"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{209:(e,t,r)=>{r.d(t,{o1:()=>u,p2:()=>l});var n=r(4148);let i=["__nextLocalePatch","pid"],s=e=>null!=e,o=e=>!i.includes(e),{basePath:a}=(0,n.z)().paths,l=(e,t)=>{if(e.startsWith("http://")||e.startsWith("https://"))return e;let r=e.startsWith("/")?e:"/".concat(e);return t?"/preview/slug".concat(r):e},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"about:blank";if(null==e?void 0:e.startsWith("#"))return e;try{let r=new URL(e,a);return c(r,t)}catch(e){}return a},c=(e,t)=>{for(let r of Object.keys(t)){let n=t[r];if(s(n)&&o(r))if(Array.isArray(n))for(let t of n)e.searchParams.append(r,t.toString());else e.searchParams.append(r,n.toString())}return e.href}},270:(e,t,r)=>{r.d(t,{l:()=>h});var n=r(7765),i=r(5977),s=r(8076),o=r(587),a=r(516);class l{static getDefaultServerData(e){return{requestId:"unknown",pageSlug:"unknown",clientCapabilities:(0,s.OJ)(e)}}get(){return this.cachedData}pick(e){return this.get()[e]}constructor(e,t){var r,n,i;this.cachedData=e&&!(0,o.Im)(e)?{requestId:e.requestId,pageSlug:e.pageSlug,user:e.user,clientCapabilities:e.clientCapabilities,heroImageSeed:e.heroImageSeed,treatments:e.treatments,extras:e.extras}:a.KJ&&(null==(r=window)?void 0:r.ShData)||l.getDefaultServerData(a.KJ?null==(i=window)||null==(n=i.navigator)?void 0:n.userAgent:t)}}var u=r(2511),c=r(7257),d=r(9358);function h(e){return t=>{let{requestData:r,userAgent:s,...o}=t,[h]=((e,t)=>{let[r]=(0,i.useState)(()=>(0,u.G)(()=>new l(e,t)));return a.KJ&&((0,c.oM)({deviceType:r.browserService.deviceType,isMobile:r.browserService.isMobileOrTablet,isTouchDevice:(0,d.C)(),os:r.browserService.operatingSystem,env:a.Gu}),c.yQ.getContainerId().catch(e=>{})),[r]})(r,s);return(0,n.jsx)(u.J.Provider,{value:h,children:(0,n.jsx)(e,{...o})})}}},587:(e,t,r)=>{r.d(t,{Im:()=>i,ik:()=>n,uv:()=>s});let n=e=>Object.entries(e).map(e=>{let[t,r]=e;return[t,"string"==typeof r?r.toLowerCase():r]}).reduce((e,t)=>{let[r,n]=t;return Object.assign(e,{[r]:n})},{}),i=e=>0===Object.keys(e).length;function s(e){return Object.keys(e)}},1286:(e,t,r)=>{r.d(t,{LO:()=>h,Yv:()=>o,ZH:()=>i,ip:()=>s,td:()=>d,u0:()=>l,uJ:()=>a});var n=r(3283);let i=e=>e&&e.charAt(0).toUpperCase()+e.slice(1),s=e=>e.split(" ").map(e=>i(e)).join(" "),o=function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let i=r.join(" ");return null!=(e=null==i?void 0:i.normalize("NFD").replaceAll(/[\u0300-\u036F]/g,"").toLowerCase().trim().replaceAll(/[^a-z0-9 ]/g,"").replaceAll(/\s+/g,"-"))?e:""};function a(e,t){return Object.values(t).includes(e)}let l=()=>Math.random().toString(36).slice(2,11),u=new Set(["canvas"]),c=new Set(["analytics"]);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=e.split(" ").at(-1);if(!r)return e;let n=r.toLowerCase();return 1!==Math.abs(t)&&u.has(n)?"".concat(e,"es"):"".concat(e).concat(1===Math.abs(t)||c.has(n)?"":"s")}function h(e){try{let t=(0,n.domainToASCII)(e);if(t===e)return e;return"".concat(e," (").concat(t,")")}catch(t){return e}}},1810:(e,t,r)=>{r.d(t,{K:()=>n});class n{static create(e){return e?new n(e):n.None}getAttr(e){return this.data[e]}get id(){return this.getAttr("id")}get isNone(){return this===n.None}get isAnonymous(){let e=this.getAttr("anonymous");return"boolean"==typeof e?e:!!this.isNone}get isTest(){return this.getAttr("isTest")}get email(){return this.getAttr("email")}constructor(e){this.data=e}}n.None=new n({})},2107:(e,t,r)=>{r.d(t,{Hk:()=>a,Ri:()=>u,TV:()=>c});var n=r(753),i=r(9649),s=r(516);let o=(0,r(4148).z)().domains.cookie;var a=function(e){return e.CsrfToken="csrf-token",e.GoInstallationSource="sh_installation_flow_source",e.AtcVisited="superhuman_atc_visited",e.WebDevice="web-device",e.ShMailExtensionInstalled="sh_mail_extension_installed",e}({});let l=(e,t)=>{let r=Error("Cannot ".concat(t," cookie ").concat(e," at the server-side"));i.Bx.Logging.getLogger("cookie.interception").warn("Cannot ".concat(t," cookie ").concat("set"===t?"to":"from"," document at the server-side"),{cookieName:e,stackTrace:r.stack})},u=e=>s.KJ?n.qg(document.cookie)[e]:void l(e,"parse"),c=(e,t,r)=>{if(!s.KJ)return void l(e,"set");document.cookie=n.lK(e,t.toString(),{expires:r?new Date(Date.now()+1e3*r):void 0,path:"/",domain:o})}},2225:(e,t,r)=>{r.d(t,{H2:()=>v,jG:()=>w,tZ:()=>p});var n=r(706),i=r.n(n),s=r(6133),o=r(9649),a=r(4148),l=r(516),u=r(3608),c=r(5398),d=r(7257),h=r(6311),g=r(2272);let{tracking:m}=(0,a.z)(),p=(0,s.Bj)(o.Bx.Logging.getLogger);async function f(e){let t={...e.context,url:(0,c.N)(document.location.href),pathname:document.location.pathname};if(e.level>=o.y7.$.WARN)try{t.containerId=await d.yQ.getContainerId()}catch(r){let e=r instanceof Error?(0,u.b)(r):"unknown";t.containerId="Cannot get containerID: ".concat(e)}return e.addContext(t)}function v(e){if(!l.KJ)return void o.Bx.Logging.getLogger("superfunnel.client").warn("Warn: Trying to configure client logging on the server");let t=l.p8?fetch.bind(window):(0,h.tz)(()=>{}),r=new o.GU.pz(m.felog.url+"/log",e,l.hl,l.Gu,t,!1),n=async e=>{let t=await f(e);(!l.p8||"prod"!==l.Gu||e.level>=o.y7.$.WARN)&&o.GU.Cr.printToConsole(t),(!l.p8||"prod"!==l.Gu||e.level>=o.y7.$.INFO)&&r.append(t).catch(e=>console.error("Error sending logs",e))},i=new o.GU.FL(e,o.y7.$.TRACE,n);o.GU._U.configure(i)}function w(e){if(l.KJ)return void o.Bx.Logging.getLogger("superfunnel.ssr").warn("Warn: Trying to configure server logging on the client");o.GU._U.configure(new o.GU.FL(e,o.y7.$.INFO,e=>{g.stdout.write(JSON.stringify(e)+i().EOL)})),o.Bx.Logging.root.context.add({hostname:i().hostname(),box_id:g.env.BOX_ID})}},2511:(e,t,r)=>{r.d(t,{J:()=>A,G:()=>I});var n=r(5977),i=r(8076),s=r(9358),o=r(587),a=r(1286);class l{getOrFalse(e){return this.getOrDefault(e,!1)}getOrDefault(e,t){return this.info?e(this.info):t}get macOsVersion(){return this.getOrDefault(e=>{var t;return null==(t=e.os)?void 0:t.split(";")[0]},"")}get windowsOsVersion(){if(this.isWindows)return this.getOrDefault(e=>e.os.split(" ")[1],"")}get isWindows(){return this.getOrFalse(e=>e.os.includes(i.sd.Windows))}get isMac(){return this.getOrFalse(e=>e.os.includes(i.sd.Mac))&&!this.isIOS}get isIOS(){return this.getOrFalse(e=>e.osGroup.includes(i._g.iOS))}get isIPad(){return this.isIOS&&this.isTablet||this.isIPadOS13}get isIPadOS13(){return this.isMac&&(0,s.C)()}get isAndroid(){return this.getOrFalse(e=>e.osGroup.includes(i._g.Android))}get deviceType(){return this.isIPadOS13?i.bq.Tablet:this.getOrDefault(e=>e.deviceType,i.bq.Unknown)}get isMobile(){return this.getOrFalse(e=>e.deviceType===i.bq.Mobile)}get isMobileAndroidOrIOS(){return this.isIOS||this.isAndroid}get isTablet(){return this.getOrFalse(e=>e.deviceType===i.bq.Tablet)}get isMobileOrTablet(){return this.isMobile||this.isTablet}get isChrome(){return this.getOrFalse(e=>e.browserGroup===i.MY.Chrome)}get isFirefox(){return this.getOrFalse(e=>e.browserGroup===i.MY.Firefox)}get isSafari(){return this.getOrFalse(e=>e.browserGroup===i.MY.Safari)}get isIE(){return this.getOrFalse(e=>e.browserGroup===i.MY.IE)}get isEdge(){return this.getOrFalse(e=>e.browserGroup===i.MY.Edge)}get isEdgeChromium(){return this.isEdge&&this.majorVersion>=79}get operatingSystem(){return this.getOrDefault(e=>e.os,"")}get operatingSystemDisplayName(){return this.getOrDefault(e=>e.os===i._g.iOS?"iOS":(0,a.ZH)(e.os)||"","")}get browserDisplayName(){return(0,a.ip)(this.browserName)}get browserName(){return this.getOrDefault(e=>e.browser||"","")}get majorVersion(){return this.getOrDefault(e=>e.majorVersion,0)}constructor(e){let{clientCapabilities:t}=e.get();this.info=t?(0,o.ik)(t):null}}var u=r(8755),c=r(7257),d=r(2107),h=r(516);let g={},m=new Set(Object.values(g).map(e=>e.name)),p={},f=new Set(Object.values(p).map(e=>e.name));var v=r(9850);class w{parseToExperimentObj(e){return e?e.split(",").reduce((e,t)=>{let r=t.split(":");return r.length<2?{...e}:{...e,[r[0]]:r[1]}},{}):{}}getLocalStorageFallbackOverrides(){if(!h.KJ||!window.localStorage)return{};try{let e=window.localStorage.getItem(w.STORAGE_KEY);return e?this.parseToExperimentObj(e):{}}catch(e){return{}}}clearStoredOverrides(){if(h.KJ)try{window.localStorage.removeItem(w.STORAGE_KEY)}catch(e){}}storeOverrides(e){if(h.KJ)try{window.localStorage.setItem(w.STORAGE_KEY,e)}catch(e){}}getExperimentOverrides(){if(!h.KJ)return{};let e={},t=v.q.currentQueryParams,r="string"==typeof t.experimentOverrideReset?t.experimentOverrideReset:void 0,n="string"==typeof t.experimentOverrides?t.experimentOverrides:void 0;r&&this.clearStoredOverrides();try{if(!n)return this.getLocalStorageFallbackOverrides();n&&(e=this.parseToExperimentObj(n),this.storeOverrides(n))}catch(e){}return e}hasOverrides(){return Object.keys(this.getExperimentOverrides()).length>0}clearOverrides(){this.clearStoredOverrides()}}w.STORAGE_KEY="shExperimentOverrides";class O{async getApplicationRequestHeaders(){let e=await c.yQ.getContainerId();return{"Content-Type":"application/json","X-CSRF-Token":h.KJ?(0,d.Ri)(d.Hk.CsrfToken):void 0,"X-Client-Type":h.OX,"X-Client-Version":h.hl,"X-Container-Id":e}}createSDKExperimentClient(e,t){var r;let n=new u.eb(e,{getApplicationHeaders:this.getApplicationRequestHeaders.bind(this),timeout:O.TIMEOUT},h.Gu),i=new u.mP(e,{getApplicationHeaders:this.getApplicationRequestHeaders.bind(this),timeout:O.TIMEOUT},h.Gu),s=new u.Re(n,Object.values(g),i,Object.values(p),{ssrDisableLogging:!h.KJ}),o=null!=(r=t.get().treatments)?r:[],a=[...Object.entries(this._experimentOverrides.getExperimentOverrides()).map(e=>{let[t,r]=e,n=f.has(t)?"gate":"experiment";return{experimentName:t,groupName:"".concat(r,"_1"),experimentId:"dummy",type:n}}),...o].filter(e=>f.has(e.experimentName)||m.has(e.experimentName));return s.setPrefetchedTreatments(a),s}isValidTreatment(e,t){return e.experiencesArray.includes(t)||"NOT_ASSIGNED"===t}isValidGateTreatment(e,t){return e.experience===t||"NOT_ASSIGNED"===t}getOverrideTreatment(e){let t=this._experimentOverrides.getExperimentOverrides()[e.name];return t&&this.isValidTreatment(e,t)?t:null}getGateOverrideTreatment(e){let t=this._experimentOverrides.getExperimentOverrides()[e.name];return t&&this.isValidGateTreatment(e,t)?t:null}trackAssignedTreatment(e,t){this._experimentsWithAssignedTreatment.set(e.name,t)}constructor(e,t){this.getTreatment=e=>{let t=this.getOverrideTreatment(e);if(!t){var r;t=(null==(r=this._sdkExperimentClient)?void 0:r.getTreatment(e))||null}return t&&this.trackAssignedTreatment(e,t),t},this.peekTreatment=e=>{var t;return this.getOverrideTreatment(e)||(null==(t=this._sdkExperimentClient)?void 0:t.getTreatmentWithExposureLoggingDisabled(e))||null},this.isGateEnabled=e=>{var t;let r=this.getGateOverrideTreatment(e);return r?r===e.experience:null==(t=this._sdkExperimentClient)?void 0:t.isGateEnabled(e)},this._experimentOverrides=new w,this._experimentsWithAssignedTreatment=new Map,this._sdkExperimentClient=this.createSDKExperimentClient(e,t)}}O.TIMEOUT=1e4;class b{constructor(e){this.experimentClient=e}}let y=(0,r(2225).tZ)("user.clientFallback");async function x(){try{let e=await fetch("/v1/mediator/token",{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(401===e.status||!e.ok)return null;let t=await e.json();if(!t.token)return null;let r=await fetch("/auth/v5/api/userinfo",{method:"GET",credentials:"include",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.token)}});if(401===r.status||!r.ok)return null;return await r.json()}catch(e){return y.error("Error fetching user with token:",e),null}}var S=r(1810),T=function(e){return e.Empty="empty",e.Success="success",e.Pending="pending",e.Error="error",e}(T||{});let E={state:"empty"};class k{async initialLoad(){if(!this.currentUser.isNone)return this.currentUser;"pending"!==this.userPayload.state&&(this.userPayload={state:"pending",promise:x().then(e=>S.K.create(e))});try{return this.currentUser=await this.userPayload.promise,this.userPayload={state:"success"},this.currentUser}catch(e){return this.userPayload={state:"error"},this.currentUser=S.K.None,this.currentUser}}constructor(e){this.userPayload=E;let{user:t}=e.get();this.currentUser=S.K.create(t)}}let C=async(e,t)=>({ok:!0,status:200,statusText:"OK",headers:new Headers,redirected:!1,type:"default",url:"",clone:()=>{throw Error("Not Implemented")},body:null,bodyUsed:!1,bytes:async()=>{throw Error("Not Implemented")},async arrayBuffer(){throw Error("Not Implemented")},async blob(){throw Error("Not Implemented")},async formData(){throw Error("Not Implemented")},json:async()=>({}),text:async()=>""}),I=e=>{let t=e(),r=new l(t),n=new k(t),i=new b(new O(h.X3?C:fetch.bind(window),t));return{shWebServerService:t,browserService:r,userService:n,experimentService:i}},A=(0,n.createContext)({})},4163:(e,t,r)=>{r.d(t,{Q:()=>u});var n=r(7765),i=r(516),s=r(7948),o=r(2225),a=r(5900);let l="superfunnel";function u(e){return i.KJ||((0,o.jG)(l),a.h.initOnServer()),t=>{let r=(0,s.th)();return i.KJ&&((0,o.H2)(l),a.h.initOnClient(r)),(0,n.jsx)(e,{...t})}}},6087:(e,t,r)=>{r.d(t,{Or:()=>a,th:()=>o,v$:()=>s});var n=r(5977),i=r(2511);let s=()=>(0,n.useContext)(i.J),o=()=>s().browserService,a=()=>s().userService},7948:(e,t,r)=>{r.d(t,{th:()=>n.th,v$:()=>n.v$,eO:()=>g,co:()=>d,lb:()=>m,Or:()=>n.Or});var n=r(6087),i=r(5977),s=r(9584),o=r(5900),a=r(8103),l=r(3608),u=r(2081),c=r(7257);let d=e=>{let{pageId:t,pageSlug:r,isPreview:n=!1,isStaticFallback:s=!1,isCustom:o=!1}=e;(0,i.useEffect)(()=>{n||(c.a2.pageShow({pageId:t,pageSlug:r,referrer:document.referrer,url:window.location.href,isCustomPage:o,isStaticFallback:s}),h(r))},[t,r,n,s])},h=e=>{o.h.getMetric(a.XR.Page).getCounter(a.MU.Show).setContext({pageSlug:e}).increment()},g=()=>{let[e,t]=(0,i.useState)(""),r=(0,i.useRef)(null),[n]=(0,i.useState)(()=>new Promise(e=>{r.current=e}));return(0,i.useEffect)(()=>{c.yQ.getContainerId().then(e=>{var n;t(e),null==(n=r.current)||n.call(r,e)}).catch(e=>{var t;(0,u.v)("Error getting Gnar container id",u.Y.GnarContainerIdFailed,{error:(0,l.D)(e)}),null==(t=r.current)||t.call(r,"")})},[]),{containerId:e,containerIdPromise:n}},m=(e,t)=>{let{user:r}=(0,s.i)();(0,i.useEffect)(()=>{(0,c.om)(r)},[]),(0,i.useEffect)(()=>{r.isNone||(0,c.om)(r)},[r])}},8076:(e,t,r)=>{r.d(t,{MY:()=>s,OJ:()=>l,_g:()=>a,bq:()=>i,sd:()=>o});var n=r(582),i=function(e){return e.Desktop="desktop",e.Mobile="mobile",e.Tablet="tablet",e.Other="other",e.Unknown="unknown",e}({}),s=function(e){return e.Chrome="chrome",e.Firefox="firefox",e.Safari="safari",e.IE="internet explorer",e.Edge="microsoft edge",e.Other="other",e.Unknown="unknown",e}({}),o=function(e){return e.Mac="mac",e.Windows="windows",e}({}),a=function(e){return e.iOS="ios",e.Android="android",e}({});function l(e){let t=new n.UAParser(e),{version:r,name:i}=t.getBrowser(),{version:s,name:o}=t.getOS(),{type:a}=t.getDevice();return{deviceType:(e=>{if(!e)return"desktop";let t=e.toLowerCase();return"mobile"===t?"mobile":"tablet"===t?"tablet":"console"===t||"smarttv"===t||"wearable"===t||"embedded"===t?"other":"unknown"})(a),osGroup:(e=>{if(!e)return"unknown";let t=e.toLowerCase();return"mac os"===t?"mac":"windows"===t?"windows":"ios"===t||"watchos"===t?"ios":"android"===t||"android-x86"===t?"android":"other"})(o),os:o?"".concat(o," ").concat(s):"unknown",browserGroup:(e=>{if(!e)return"unknown";let t=e.toLowerCase();return"chrome"===t||"chrome headless"===t||"chrome webview"===t||"chromium"===t?"chrome":"firefox"===t||"firefox focus"===t||"firefox reality"===t||"fennec"===t||"firebird"===t?"firefox":"safari"===t||"mobile safari"===t?"safari":"ie"===t||"iemobile"===t||"internet explorer"===t?"internet explorer":"edge"===t?"microsoft edge":"other"})(i),browser:i||"unknown",browserVersion:r||"unknown",majorVersion:Number.parseInt(r||"-1")}}},9358:(e,t,r)=>{r.d(t,{C:()=>n});let n=()=>!1},9584:(e,t,r)=>{r.d(t,{L:()=>s,i:()=>o});var n=r(5977);let i=(0,n.createContext)(void 0),s=i.Provider,o=()=>{let{user:e,isLoading:t}=(()=>{let e=(0,n.useContext)(i);if(!e)throw Error("Attempted to access CurrentUser context outside of CurrentUser provider.");return e})();return{user:e,isLoading:t}}},9850:(e,t,r)=>{r.d(t,{q:()=>o});var n=r(209),i=r(516);class s{get currentQueryParams(){return i.KJ?[...new URL(window.location.href).searchParams.entries()].reduce((e,t)=>{let[r,n]=t;return e[r]=n,e},{}):{}}constructor(){var e=this;this.navigateUrl=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.navigate((0,n.o1)(t,r))},this.navigate=e=>{window.location.assign(e)}}}let o=new s}}]);
//# sourceMappingURL=982-fbd5f5513df3e999.js.map